## 概述 📢
　　KeywordGacha 是一个使用 AI 技术来提取游戏文本名词表的次世代工具。

　　可以帮助译者从游戏文本中一键抽取角色名称、地域名称、组织名称等专有名词名。

　　相较传统工具，在命中率、词性辨别、上下文匹配等方面都有很大的提升，而且不限制词汇的格式与位置。

## 要求 ⚡
- 有效的 Python 环境
- 兼容 OpenAI 接口格式的大语言模型 API
- 使用 llama.cpp + Qwen2-7B 本地接口开发，理论上兼容所有 OpenAI 格式的API，但是条件所限未能一一测试欢迎反馈

## 安装 🛸
- 下载源码并解压缩
- 双击运行项目文件夹内的 `01_安装基础依赖包.bat`
- 打开配置文件 `config.json` ，填入你的 API 信息，默认为使用本地 Qwen2-7B 接口

## 使用 🚀
- 将待分析的文件复制到项目文件内
- 打开 `main.py` 文件，修改 `G.input_file_name` 为待分析的文件名
- 双击 `00_启动.bat` 开始执行脚本
- `角色姓名_列表`、`角色姓名_列表_未通过检查` 为可直接导入翻译工具的词典文件
- `角色姓名_日志`、`角色姓名_日志_未通过检查` 为各个词条的详细日志，包括出现次数、上下文等信息，方便人工检查和辅助翻译

## 支持格式 🆗
- 目前支持对两种文本格式的解析，抓取效果不好时，可以两种都试试。
- 当文件后缀名为 .json 时，会将其内容按以下格式处理，这也是 mtool 导出翻译原文的格式。
```
    {
        "原文": "译文",
        "原文": "译文",
        "原文": "译文"
    }
```
- 当文件后缀名为 .txt 时，会将其内容按以下格式处理，即每行一句的纯文本内容。
```
      原文<换行符>
      原文<换行符>
      原文<换行符>
```

## 配置说明 🎚️
| 字段 | 说明 | 默认值 |
|:----:|------|-------|
| api_key | 你所使用 API 接口的密钥，从接口平台方获取 | sk-no-key-required |
| base_url | 你所使用 API 接口的地址，从接口平台方获取，默认为本地 llama.cpp | http://localhost:8080/v1 |
| model_name | 你所使用模型的名称，从接口平台方获取，默认为本地的 Qwen2 开源版 | qwen2-7b-instruct |
| name_gacha | 是否启用获取人名功能，基础功能，改为 false 禁用 | true |

## 其他事项 📣
> [!CAUTION]
> 应用会将 `全部的文本` 发送至 AI 进行处理，这个过程会消耗大量的 Token，
> 
> 如使用在线接口，请关注你的账单！

## 开发计划 🔄
- [x] 独立的配置文件
- [ ] 支持 道具名称、地域名称、组织名称 的提取
